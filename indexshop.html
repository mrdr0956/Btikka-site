<!DOCTYPE html>
<html lang="ar">
<head>
  <meta charset="UTF-8" />
  <title>Ø¨ØªÙƒØ© Btikka â€” Ø§Ù„Ù…ØªØ¬Ø±</title>
  <style>
    body { font-family: Arial, sans-serif; direction: rtl; background: #f9f9f9; margin: 0; }
    header { background: #d63384; color: #fff; padding: 16px; text-align: center; }
    .sections { display: flex; flex-wrap: wrap; gap: 8px; padding: 12px; justify-content: center; }
    .sec-btn { background: #d63384; color: #fff; border: none; padding: 10px 14px; border-radius: 8px; cursor: pointer; }
    .sec-btn:hover { background: #a02060; }
    .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(220px, 1fr)); gap: 12px; padding: 12px; }
    .card { background: #fff; border: 1px solid #eee; border-radius: 10px; padding: 12px; }
    .card img { width: 100%; height: 160px; object-fit: cover; border-radius: 8px; }
    .empty { text-align: center; color: #666; padding: 20px; }
    .active { outline: 2px solid #a02060; }
  </style>
</head>
<body>
  <header>
    <h1>Ù…Ø±Ø­Ø¨Ù‹Ø§ Ø¨Ùƒ ÙÙŠ Ù…ØªØ¬Ø± Ø¨ØªÙƒØ© ğŸ›ï¸ (BTikka)</h1>
    <p>ÙˆØ¬Ù‡ØªÙƒ Ø§Ù„Ø£ÙˆÙ„Ù‰ Ù„Ù„ØªØ³ÙˆÙ‚ Ø§Ù„Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠ Ø¨Ø³Ù‡ÙˆÙ„Ø© ÙˆØ±Ø§Ø­Ø© âœ¨</p>
    <p>Ø§Ø®ØªØ± Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø°ÙŠ ØªØ±ÙŠØ¯ Ø§Ù„ØªØ³ÙˆÙ‚ Ù…Ù†Ù‡ ğŸ‘‡</p>
  </header>

  <div class="sections" id="sections"></div>
  <div id="currentSection" style="padding: 0 12px; font-weight: bold;"></div>
  <div class="grid" id="products"></div>

  <script>
    const SECTIONS = [
      "Ù…Ø·Ø§Ø¹Ù… ÙˆØ­Ù„ÙˆÙŠØ§Øª",
      "Ø³ÙˆØ¨Ø± Ù…Ø§Ø±ÙƒØª â€“ Ù…ÙˆØ§Ø¯ ØºØ°Ø§Ø¦ÙŠØ©",
      "Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©",
      "Ø¥ÙƒØ³Ø³ÙˆØ§Ø±Ø§Øª Ø¥Ù„ÙƒØªØ±ÙˆÙ†ÙŠØ©",
      "Ù…Ø³ØªÙ„Ø²Ù…Ø§Øª Ø§Ù„Ù…Ø§Ø¦Ø¯Ø© ÙˆØ§Ù„Ø¨Ù„Ø§Ø³ØªÙŠÙƒÙŠØ§Øª",
      "Ù‡Ø¯Ø§ÙŠØ§ Ù…Ù…ÙŠØ²Ø©",
      "Ù…ÙˆØ§Ø¯ Ø¨Ù†Ø§Ø¡ ÙˆØªØ´Ø·ÙŠØ¨",
    ];
    let allProducts = [];
    let activeSection = null;

    async function fetchProducts() {
      // Ø§Ù„Ù…Ù„Ù ÙŠÙØ®Ø¯Ù… Ø¹Ø¨Ø± GitHub Pages ØªÙ„Ù‚Ø§Ø¦ÙŠÙ‹Ø§
      const res = await fetch("products.json");
      allProducts = await res.json();
    }

    function renderSections() {
      const wrap = document.getElementById("sections");
      wrap.innerHTML = "";
      SECTIONS.forEach(sec => {
        const btn = document.createElement("button");
        btn.className = "sec-btn";
        btn.textContent = sec;
        btn.onclick = () => selectSection(sec, btn);
        wrap.appendChild(btn);
      });
    }

    function selectSection(sectionName, btnEl) {
      activeSection = sectionName;
      document.querySelectorAll(".sec-btn").forEach(b => b.classList.remove("active"));
      btnEl.classList.add("active");
      document.getElementById("currentSection").textContent = `Ø§Ù„Ù‚Ø³Ù… Ø§Ù„Ø­Ø§Ù„ÙŠ: ${sectionName}`;
      renderProducts();
    }

    function renderProducts() {
      const grid = document.getElementById("products");
      grid.innerHTML = "";
      const filtered = allProducts.filter(p => p.section === activeSection);

      if (filtered.length === 0) {
        grid.innerHTML = `<div class="empty">Ù„Ø§ ØªÙˆØ¬Ø¯ Ù…Ù†ØªØ¬Ø§Øª ÙÙŠ Ù‡Ø°Ø§ Ø§Ù„Ù‚Ø³Ù… Ø­ØªÙ‰ Ø§Ù„Ø¢Ù†.</div>`;
        return;
      }

      for (const p of filtered) {
        const card = document.createElement("div");
        card.className = "card";
        card.innerHTML = `
          ${p.photo ? `<img src="${p.photo}" alt="${p.name}" />` : ""}
          <h3>${p.name}</h3>
          <p>${p.description || ""}</p>
          <p><strong>Ø§Ù„Ø³Ø¹Ø±:</strong> ${p.price}</p>
        `;
        grid.appendChild(card);
      }
    }

    async function init() {
      renderSections();
      await fetchProducts();
      // Ø§ÙØªØ±Ø§Ø¶ÙŠÙ‹Ø§ Ù†ÙØªØ­ "Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©"
      const defaultSection = "Ø£Ø¯ÙˆØ§Øª ÙƒÙ‡Ø±Ø¨Ø§Ø¦ÙŠØ©";
      const btns = Array.from(document.querySelectorAll(".sec-btn"));
      const btn = btns.find(b => b.textContent === defaultSection) || btns[0];
      if (btn) selectSection(btn.textContent, btn);
    }
    init();
  </script>
</body>
</html>
